$bgcolor: #247fbc;
$goocolor: #ffffff;
$bigsize: 50px;
$smallsize: 30px;
$containerwidth: 500px;
$animoffset: 150px;
$animtime: 2.5s;
$containerheight: $bigsize * 2;

body {
    overflow: hidden;
}

.preloader {
    margin: 0;
    padding: 0;
    background: $blue;
    width: 100vw;
    height: 100vh;
    position: absolute;
    z-index: 999;
    display: flex;
    align-items: center;
    justify-content: center;

    .loader {
        filter: url("#goo");
        position: relative;
        width: $containerwidth;
        height: $containerheight;
        &::after {
            //big goo in middle
            content: "";
            display: block;
            width: $bigsize;
            height: $bigsize;
            border-radius: 50%;
            background: $goocolor;
            margin: 0 auto;
            position: absolute;
            top: $containerheight/2 - $bigsize/2;
            left: $containerwidth/2 - $bigsize/2;
            animation: scale $animtime ease-in-out infinite;
        }
        div {
            position: absolute;
            width: $smallsize;
            height: $smallsize;
            border-radius: 50%;
            background: $goocolor;
            top: $containerheight/2 -$smallsize/2;
            left: $containerwidth/2 - $smallsize/2;
            animation: move $animtime ease-in-out infinite alternate;
            &::after,
            &::before {
                content: "";
                display: block;
                position: absolute;
                width: $smallsize;
                height: $smallsize;
                border-radius: 50%;
                background: $goocolor;
            }
            &::before {
                left: $smallsize * -2.5;
            }
            &::after {
                left: $smallsize * 2.5;
            }
        }
    }
    svg {
        //Firefox bug fix
        position: absolute;
        stroke: aquamarine;
        fill: bisque;
        z-index: -100;
        pointer-events: none;
    }
}

@keyframes move {
    0% {
        transform: translateX($animoffset * -1);
    }
    100% {
        transform: translateX($animoffset);
    }
}

@keyframes scale {
    10% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.25);
    }
    90% {
        transform: scale(1);
    }
}

.loaded {
    overflow: visible;
    .preloader {
        opacity: 0;
        transition: all 0.3s ease-out;
    }
}
